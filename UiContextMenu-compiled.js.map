{"version":3,"sources":["UiContextMenu.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAYA,CAAC,CAAC,YAAM;;AAGP,aAAY,CAAC;;AAGb,KAAM,KAAK,GAAG;AACb,QAAM,EAAE;AACP,SAAM,EAAE,qBAAqB;AAC7B,OAAI,EAAE,mBAAmB;AACzB,OAAI,EAAE,mBAAmB;GACzB;AACD,SAAO,EAAE;AACR,OAAI,EAAE,2BAA2B;AACjC,OAAI,EAAE,wBAAwB;AAC9B,OAAI,EAAE,4BAA4B;AAClC,gBAAa,EAAE,mCAAmC;AAClD,gBAAa,EAAE,mCAAmC;GAClD;EACD,CAAC;;AAEF,KAAM,cAAc,GAAG;AACtB,OAAK,EAAE,MAAM;AACb,gBAAc,EAAE,EAAE;EAClB,CAAC;;KAGI,aAAa;;;;;;;;AAQP,WARN,aAAa,CAQN,SAAS,EAAE,OAAO,EAAE;yBAR3B,aAAa;;AASjB,OAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AACpB,OAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,cAAc,EAAE,OAAO,CAAC,CAAC;AAC1D,OAAI,CAAC,OAAO,GAAG,KAAK,CAAC;;AAErB,OAAG,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AACpD,QAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;IAC3B;GACD;;;;;;;eAhBI,aAAa;;UAwBd,cAAC,KAAK,EAAE;;;AAEX,QAAG,IAAI,CAAC,OAAO,EAAE;AAChB,SAAI,CAAC,IAAI,EAAE,CAAC;KACZ;;4BAEiB,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;;QAAzC,IAAI,qBAAJ,IAAI;QAAE,GAAG,qBAAH,GAAG;;AACd,QAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;AACtC,QAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC;AACpC,YAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;AAExC,QAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;AAEpB,cAAU,CAAC,YAAM;AAChB,WAAK,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AACtC,SAAI,KAAK,GAAG,MAAK,mBAAmB,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACxD,WAAK,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;KAClC,EAAE,CAAC,CAAC,CAAC;IACN;;;;;;;UAOG,gBAAG;;AAEN,QAAG,CAAC,IAAI,CAAC,OAAO,EAAE;AACjB,YAAO;KACP;;AAED,QAAI,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACxD,QAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAClC,QAAI,CAAC,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAClD,QAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;;AAEzC,QAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IAErB;;;;;;;;UAQc,yBAAC,SAAS,EAAE;AAC1B,QAAG,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AACpD,SAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;KAC3B;IACD;;;;;;;;UAQQ,qBAAG;AACX,WAAO,IAAI,CAAC,OAAO,CAAC;IACpB;;;;;;;;;UASU,oBAAC,SAAS,EAAE;AACtB,QAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC5C,WAAO,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAC1C,WAAO,CAAC,SAAS,GAAM,KAAK,CAAC,OAAO,CAAC,IAAI,SAAI,IAAI,CAAC,OAAO,CAAC,cAAc,AAAE,CAAC;;AAE3E,QAAI,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;;AAEpC,aAAS,IAAI,CAAC,SAAS,EAAE,MAAM,EAAE;;;AAEhC,cAAS,CAAC,OAAO,CAAC,UAAC,IAAI,EAAK;UACtB,IAAI,GAAoD,IAAI,CAA5D,IAAI;UAAE,KAAK,GAA6C,IAAI,CAAtD,KAAK;UAAE,KAAK,GAAsC,IAAI,CAA/C,KAAK;UAAE,IAAI,GAAgC,IAAI,CAAxC,IAAI;UAAE,QAAQ,GAAsB,IAAI,CAAlC,QAAQ;UAAE,SAAS,GAAW,IAAI,CAAxB,SAAS;UAAE,KAAK,GAAI,IAAI,CAAb,KAAK;;AACzD,UAAG,CAAC,IAAI,EAAE;AACT,cAAO;OACP;;;AAID,UAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAChD,iBAAW,CAAC,SAAS,GAAM,KAAK,CAAC,OAAO,CAAC,IAAI,+BAA0B,OAAK,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,AAAE,CAAC;;;AAI1G,UAAG,KAAK,EAAE;AACT,YAAI,IAAI,GAAG,IAAI,KAAK,EAAE;AACrB,YAAG,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;AAC7B,oBAAW,CAAC,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;SAC1C;QACD;OACD;;;AAID,UAAG,IAAI,EAAE;AACR,kBAAW,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AACtC,WAAI,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;AAClD,sBAAe,CAAC,SAAS,aAAW,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,SAAI,IAAI,AAAE,CAAC;AAC3E,kBAAW,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;OAEzC;;;AAID,UAAI,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACpD,qBAAe,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAClD,qBAAe,CAAC,SAAS,GAAG,IAAI,CAAC;AACjC,iBAAW,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;;;AAIzC,UAAG,QAAQ,EAAE;AACZ,kBAAW,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;OACzC;;;AAID,UAAG,SAAS,EAAE;AACb,kBAAW,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;OAC3C;;;AAID,UAAG,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;;AAC7B,YAAI,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACnD,sBAAc,CAAC,SAAS,GAAM,KAAK,CAAC,OAAO,CAAC,IAAI,gBAAa,CAAC;AAC9D,mBAAW,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;;AAGvC,mBAAW,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAM;oCACnC,OAAK,mBAAmB,CAAC,WAAW,CAAC;;aAA7C,IAAI,wBAAJ,IAAI;;AACT,uBAAc,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC;AACvC,uBAAc,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;SACxC,CAAC,CAAC;;AAEH,mBAAW,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAM;AAChD,uBAAc,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SAC3C,CAAC,CAAC;;AAEH,sBAAc,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAM;AACnD,uBAAc,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SAC3C,CAAC,CAAC;;AAGH,YAAI,qBAAqB,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;AACxD,6BAAqB,CAAC,SAAS,aAAW,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAc,CAAC;AACrF,mBAAW,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC;;AAE/C,YAAI,CAAC,IAAI,SAAO,KAAK,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;AAC7C,mBAAW,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;;OACxC;;AAGD,YAAM,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;MAEhC,CAAC,CAAC;KAEH;;AAED,QAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,QAAI,CAAC,UAAU,EAAE,CAAC;IAClB;;;;;;;;;;;UAWkB,6BAAC,SAAS,EAAe;QAAb,MAAM,yDAAG,EAAE;;AACzC,WAAO,IAAI,WAAW,CAAC,SAAS,EAAE;AACjC,YAAO,EAAE,IAAI;AACb,eAAU,EAAE,IAAI;AAChB,WAAM,EAAE,MAAM;KACd,CAAC,CAAC;IACH;;;;;;;;UAQS,sBAAG;;;AACZ,QAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAK,EAAK;AACjD,UAAK,CAAC,cAAc,EAAE,CAAC;;AAEvB,SAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;AAC1B,SAAI,MAAM,GAAG,MAAM,CAAC,OAAO,OAAK,KAAK,CAAC,OAAO,CAAC,IAAI,CAAG,CAAC;AACtD,SAAG,MAAM,EAAE;AACV,UAAI,EAAE,GAAG,OAAK,mBAAmB,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE;AACtD,cAAO,EAAE,MAAM;OACf,CAAC,CAAC;AACH,YAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;MACzB;KACD,CAAC,CAAC;;AAEH,UAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,YAAM;AACvC,YAAK,IAAI,EAAE,CAAC;KACZ,CAAC,CAAC;IAEH;;;;;;;;;;UAUe,0BAAC,KAAK,EAAE;AACvB,QAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AAC9C,YAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AACtC,cAAU,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;;AAEnC,QAAI,KAAK,GAAG,UAAU,CAAC,WAAW,CAAC;AACnC,QAAI,MAAM,GAAG,UAAU,CAAC,YAAY,CAAC;AACrC,cAAU,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;;AAE9C,QAAI,IAAI,GAAG,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;AAC3B,QAAI,GAAG,GAAG,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;AAC1B,QAAI,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;AAC1C,QAAI,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;;AAE5C,QAAG,AAAC,IAAI,GAAG,KAAK,GAAI,SAAS,EAAE;AAC9B,SAAI,GAAG,SAAS,GAAG,KAAK,CAAC;KACzB;;AAED,QAAG,AAAC,GAAG,GAAG,MAAM,GAAI,UAAU,EAAE;AAC/B,QAAG,GAAG,UAAU,GAAG,MAAM,CAAC;KAC1B;;AAED,WAAO;AACN,SAAI,EAAJ,IAAI;AACJ,QAAG,EAAH,GAAG;KACH,CAAA;IACD;;;;;;;;;;UAUkB,6BAAC,IAAI,EAAE;AACzB,QAAI,MAAM,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;AAC1C,QAAI,IAAI,GAAG,AAAC,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,UAAU,GAAI,IAAI,CAAC,WAAW,GAAG,CAAC,AAAC,GAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;AACtH,WAAO;AACN,SAAI,EAAJ,IAAI;KACJ,CAAA;IACD;;;SA/RI,aAAa;;;AAsSnB,OAAM,CAAC,eAAe,CAAC,GAAG,aAAa,CAAC;CAGxC,CAAA,EAAG,CAAC","file":"UiContextMenu-compiled.js","sourcesContent":["/*\r\n * UiContextMenu: Class to create the context menu for interaction with users.\r\n * 1.0\r\n *\r\n * By Max Ulyanov\r\n * Src: https://github.com/M-Ulyanov/UiContextMenu\r\n * Example https://m-ulyanov.github.io/UiContextMenu/\r\n */\r\n\r\n\r\n\r\n\r\n;(() => {\r\n\r\n\r\n\t'use strict';\r\n\r\n\r\n\tconst names = {\r\n\t\tevents: {\r\n\t\t\tselect: 'context-menu-select',\r\n\t\t\tshow: 'context-menu-show',\r\n\t\t\thide: 'context-menu-hide'\r\n\t\t},\r\n\t\tclasses: {\r\n\t\t\tmenu: 'container-ui-context-menu',\r\n\t\t\titem: 'b-ui-context-menu-item',\r\n\t\t\tname: 'ui-context-menu-item__name',\r\n\t\t\t'icon-parent': 'ui-context-menu-item__icon-parent',\r\n\t\t\t'icon-custom': 'ui-context-menu-item__icon-custom'\r\n\t\t}\r\n\t};\r\n\r\n\tconst defaultOptions = {\r\n\t\ttheme: 'blue',\r\n\t\tcontainerClass: ''\r\n\t};\r\n\r\n\r\n\tclass UiContextMenu {\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param structure\r\n\t\t * @param options\r\n\t\t */\r\n\t\tconstructor(structure, options) {\r\n\t\t\tthis.menuDOM = null;\r\n\t\t\tthis.options = Object.assign({}, defaultOptions, options);\r\n\t\t\tthis._isOpen = false;\r\n\r\n\t\t\tif(Array.isArray(structure) && structure.length > 0) {\r\n\t\t\t\tthis._buildMenu(structure);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param event\r\n\t\t */\r\n\t\tshow(event) {\r\n\r\n\t\t\tif(this._isOpen) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t}\r\n\r\n\t\t\tlet {left, top} = this._getPositionMenu(event);\r\n\t\t\tthis.menuDOM.style.left = left + 'px';\r\n\t\t\tthis.menuDOM.style.top = top + 'px';\r\n\t\t\tdocument.body.appendChild(this.menuDOM);\r\n\r\n\t\t\tthis._isOpen = true;\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.menuDOM.classList.add('is-open');\r\n\t\t\t\tlet event = this._factoryCustomEvent(names.events.show);\r\n\t\t\t\tthis.menuDOM.dispatchEvent(event);\r\n\t\t\t}, 0);\r\n\t\t}\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t */\r\n\t\thide() {\r\n\r\n\t\t\tif(!this._isOpen) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet event = this._factoryCustomEvent(names.events.hide);\r\n\t\t\tthis.menuDOM.dispatchEvent(event);\r\n\t\t\tthis.menuDOM.parentNode.removeChild(this.menuDOM);\r\n\t\t\tthis.menuDOM.classList.remove('is-open');\r\n\r\n\t\t\tthis._isOpen = false;\r\n\r\n\t\t};\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param structure\r\n\t\t */\r\n\t\tupdateStructure(structure) {\r\n\t\t\tif(Array.isArray(structure) && structure.length > 0) {\r\n\t\t\t\tthis._buildMenu(structure);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @returns {boolean}\r\n\t\t */\r\n\t\tgetIsOpen() {\r\n\t\t\treturn this._isOpen;\r\n\t\t}\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param structure\r\n\t\t * @private\r\n\t\t */\r\n\t\t_buildMenu (structure) {\r\n\t\t\tlet menuDOM = document.createElement('div');\r\n\t\t\tmenuDOM.classList.add(names.classes.menu);\r\n\t\t\tmenuDOM.className = `${names.classes.menu} ${this.options.containerClass}`;\r\n\r\n\t\t\titar.call(this, structure, menuDOM);\r\n\r\n\t\t\tfunction itar(structure, parent) {\r\n\r\n\t\t\t\tstructure.forEach((item) => {\r\n\t\t\t\t\tlet {name, title, attrs, icon, disabled, separator, child} = item;\r\n\t\t\t\t\tif(!name) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// ITEM\r\n\t\t\t\t\tlet menuItemDOM = document.createElement('div');\r\n\t\t\t\t\tmenuItemDOM.className = `${names.classes.item} ui-context-menu-theme-${this.options.theme.toLowerCase()}`;\r\n\r\n\r\n\t\t\t\t\t// ATTRS\r\n\t\t\t\t\tif(attrs) {\r\n\t\t\t\t\t\tfor(let key in attrs) {\r\n\t\t\t\t\t\t\tif(attrs.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\tmenuItemDOM.setAttribute(key, attrs[key]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// ICON\r\n\t\t\t\t\tif(icon) {\r\n\t\t\t\t\t\tmenuItemDOM.classList.add('has-icon');\r\n\t\t\t\t\t\tlet menuItemIconDOM = document.createElement('i');\r\n\t\t\t\t\t\tmenuItemIconDOM.className = `icon ${names.classes['icon-custom']} ${icon}`;\r\n\t\t\t\t\t\tmenuItemDOM.appendChild(menuItemIconDOM);\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// NAME\r\n\t\t\t\t\tlet menuItemNameDOM = document.createElement('div');\r\n\t\t\t\t\tmenuItemNameDOM.classList.add(names.classes.name);\r\n\t\t\t\t\tmenuItemNameDOM.innerHTML = name;\r\n\t\t\t\t\tmenuItemDOM.appendChild(menuItemNameDOM);\r\n\r\n\r\n\t\t\t\t\t// DISABLED\r\n\t\t\t\t\tif(disabled) {\r\n\t\t\t\t\t\tmenuItemDOM.classList.add('is-disabled');\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// SEPARATOR\r\n\t\t\t\t\tif(separator) {\r\n\t\t\t\t\t\tmenuItemDOM.classList.add('has-separator');\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// HAS CHILD\r\n\t\t\t\t\tif(child && child.length > 0) {\r\n\t\t\t\t\t\tlet menuItemSubDOM = document.createElement('div');\r\n\t\t\t\t\t\tmenuItemSubDOM.className = `${names.classes.menu} is-submenu`;\r\n\t\t\t\t\t\tmenuItemDOM.classList.add('is-parent');\r\n\r\n\r\n\t\t\t\t\t\tmenuItemDOM.addEventListener('mouseenter', () => {\r\n\t\t\t\t\t\t\tlet {left} = this._getPositionSubMenu(menuItemDOM);\r\n\t\t\t\t\t\t\tmenuItemSubDOM.style.left = left + '%';\r\n\t\t\t\t\t\t\tmenuItemSubDOM.classList.add('is-open');\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tmenuItemDOM.addEventListener('mouseleave', () => {\r\n\t\t\t\t\t\t\tmenuItemSubDOM.classList.remove('is-open');\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tmenuItemSubDOM.addEventListener('mouseleave', () => {\r\n\t\t\t\t\t\t\tmenuItemSubDOM.classList.remove('is-open');\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\tlet menuItemParentIconDOM = document.createElement('i');\r\n\t\t\t\t\t\tmenuItemParentIconDOM.className = `icon ${names.classes['icon-parent']} angle right`;\r\n\t\t\t\t\t\tmenuItemDOM.appendChild(menuItemParentIconDOM);\r\n\r\n\t\t\t\t\t\titar.call(this, child, menuItemSubDOM, true);\r\n\t\t\t\t\t\tmenuItemDOM.appendChild(menuItemSubDOM);\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tparent.appendChild(menuItemDOM);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.menuDOM = menuDOM;\r\n\t\t\tthis._setEvents();\r\n\t\t}\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param eventName\r\n\t\t * @param detail\r\n\t\t * @returns {CustomEvent}\r\n\t\t * @private\r\n\t\t */\r\n\t\t_factoryCustomEvent(eventName, detail = {}) {\r\n\t\t\treturn new CustomEvent(eventName, {\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcancelable: true,\r\n\t\t\t\tdetail: detail\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @private\r\n\t\t */\r\n\t\t_setEvents() {\r\n\t\t\tthis.menuDOM.addEventListener('click', (event) => {\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tlet target = event.target;\r\n\t\t\t\tlet parent = target.closest(`.${names.classes.item}`);\r\n\t\t\t\tif(parent) {\r\n\t\t\t\t\tlet ev = this._factoryCustomEvent(names.events.select, {\r\n\t\t\t\t\t\telement: parent\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttarget.dispatchEvent(ev);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\twindow.addEventListener('resize', () => {\r\n\t\t\t\tthis.hide();\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param event\r\n\t\t * @returns {{left: number, top: number}}\r\n\t\t * @private\r\n\t\t */\r\n\t\t_getPositionMenu(event) {\r\n\t\t\tlet shadowMenu = this.menuDOM.cloneNode(true);\r\n\t\t\tdocument.body.appendChild(shadowMenu);\r\n\t\t\tshadowMenu.style.display = 'block';\r\n\r\n\t\t\tlet width = shadowMenu.offsetWidth;\r\n\t\t\tlet height = shadowMenu.offsetHeight;\r\n\t\t\tshadowMenu.parentNode.removeChild(shadowMenu);\r\n\r\n\t\t\tlet left = event.pageX + 1;\r\n\t\t\tlet top = event.pageY + 1;\r\n\t\t\tlet pageWidth = document.body.scrollWidth;\r\n\t\t\tlet pageHeight = document.body.scrollHeight;\r\n\r\n\t\t\tif((left + width) > pageWidth) {\r\n\t\t\t\tleft = pageWidth - width;\r\n\t\t\t}\r\n\r\n\t\t\tif((top + height) > pageHeight) {\r\n\t\t\t\ttop = pageHeight - height;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tleft,\r\n\t\t\t\ttop\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param menu\r\n\t\t * @returns {{left: number}}\r\n\t\t * @private\r\n\t\t */\r\n\t\t_getPositionSubMenu(menu) {\r\n\t\t\tlet coords = menu.getBoundingClientRect();\r\n\t\t\tlet left = (coords.left + document.body.scrollLeft + (menu.offsetWidth * 2)) > document.body.offsetWidth ? -100 : 100;\r\n\t\t\treturn {\r\n\t\t\t\tleft\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\twindow['UiContextMenu'] = UiContextMenu;\r\n\r\n\r\n})();\r\n\r\n\r\n\r\n"]}